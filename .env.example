# RecallHub Configuration
# For local Docker deployment: mongodb://mongodb:27017/?directConnection=true
# For MongoDB Atlas cloud: mongodb+srv://username:password@cluster.mongodb.net/?appName=RecallHub
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/?appName=RecallHub
MONGODB_DATABASE=rag_db
MONGODB_COLLECTION_DOCUMENTS=documents
MONGODB_COLLECTION_CHUNKS=chunks

# MongoDB Atlas Search Indexes
# These index names must match what you create in the Atlas UI
MONGODB_VECTOR_INDEX=vector_index
MONGODB_TEXT_INDEX=text_index

# Profile Configuration
# Active profile (overrides profiles.yaml setting)
# ACTIVE_PROFILE=default
# Path to profiles configuration file
# PROFILES_PATH=profiles.yaml

# LLM Provider Configuration
# Options: openai, openrouter, ollama, gemini
LLM_PROVIDER=openrouter
LLM_API_KEY=your-api-key-here
LLM_MODEL=anthropic/claude-haiku-4.5
LLM_BASE_URL=https://openrouter.ai/api/v1

# For local Ollama:
# LLM_PROVIDER=ollama
# LLM_API_KEY=ollama
# LLM_MODEL=llama3.2
# LLM_BASE_URL=http://localhost:11434/v1

# Embedding Provider Configuration
# Options: openai, ollama
EMBEDDING_PROVIDER=openai
EMBEDDING_API_KEY=your-openai-api-key-here
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_BASE_URL=https://api.openai.com/v1
EMBEDDING_DIMENSION=1536

# For local Ollama embeddings:
# EMBEDDING_PROVIDER=ollama
# EMBEDDING_API_KEY=ollama
# EMBEDDING_MODEL=nomic-embed-text
# EMBEDDING_BASE_URL=http://localhost:11434/v1
# EMBEDDING_DIMENSION=768

# Search Configuration
DEFAULT_MATCH_COUNT=10
MAX_MATCH_COUNT=50
DEFAULT_TEXT_WEIGHT=0.3

# Application Settings
APP_ENV=development
LOG_LEVEL=INFO

# ============================================
# Security Settings (IMPORTANT FOR PRODUCTION)
# ============================================

# JWT Secret Key - CRITICAL: Change this in production!
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
# Must be at least 32 characters for production
JWT_SECRET_KEY=recallhub-secret-key-change-in-production

# Registration Control
# REGISTRATION_MODE options:
#   - "open" (default): Anyone can register
#   - "invite": Requires invite code
#   - "closed": No public registration (admin creates users)
REGISTRATION_MODE=open

# Invite codes (for REGISTRATION_MODE=invite)
# Single code:
# INVITE_CODE=your-secret-invite-code
# Multiple codes (comma-separated):
# INVITE_CODES=code1,code2,code3

# API Documentation Exposure
# Set to "false" in production to hide /docs, /redoc, /openapi.json
# EXPOSE_API_DOCS=true

# ============================================
# Airbyte Integration (for Confluence, Jira, and other complex APIs)
# ============================================
# To enable Airbyte, run: docker-compose -f docker-compose.yml -f docker-compose.airbyte.yml up -d
AIRBYTE_ENABLED=false
AIRBYTE_API_URL=http://airbyte-server:8001
AIRBYTE_WEBAPP_URL=http://localhost:11020

# Cloud Source Provider Credentials (optional)
# Google Drive - OAuth 2.0 (configure in UI)
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# Dropbox - OAuth 2.0 (configure in UI)
# DROPBOX_CLIENT_ID=your-dropbox-app-key
# DROPBOX_CLIENT_SECRET=your-dropbox-app-secret

# Atlassian (Confluence/Jira) - via Airbyte
# ATLASSIAN_DOMAIN=your-domain.atlassian.net
# ATLASSIAN_EMAIL=your-email@example.com
# ATLASSIAN_API_TOKEN=your-atlassian-api-token

# Cloudflare Tunnel Configuration (for public access)
# Create API Token at: https://dash.cloudflare.com/profile/api-tokens
# Required permissions:
#   - Account > Cloudflare Tunnel > Edit
#   - Zone > DNS > Edit (for your domain)
#   - Zone > Zone > Read
# CLOUDFLARE_API_TOKEN=your-cloudflare-api-token
#
# Alternatively, use a tunnel-specific token (from Cloudflare dashboard):
# CLOUDFLARE_TUNNEL_TOKEN=your-tunnel-token
